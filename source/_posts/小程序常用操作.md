---
title: 小程序常用操作
tags:
  - javascript
  - 小程序
categories: 小程序
date: 2017-09-13 11:56:25
---

## 小程序业务常用操作


### 上拉加载和下拉刷新:  

``` bash
方法一：onPullDownRefresh和onReachBottom方法实现小程序下拉加载和上拉刷新,在pages页xx.json设置"enablePullDownRefresh": "true"
方法二：在scroll-view里设定bindscrolltoupper和bindscrolltolower实现微信小程序下拉,绑定自定义方法实现
```

### 事件绑定

用于和对应的page中的方法绑定
``` bash
方法一：bind开头,例如: bindtab点击、bindtouchstart开始滑动、bindblur失去焦点、bindscrolltolower上滑加载
方法二：catch开头, 例如: catchtab点击、catchblur
```

#### 区别

bind事件绑定不会阻止冒泡事件向上冒泡，catch事件绑定可以阻止冒泡事件向上冒泡。


### 内置方法

``` bash
wx.request 进行数据请求 参数:Object url:请求路径 method:请求类型 header:请求头 success:请求成功后回调 fail:失败后回调
wx.previewImage 图片查看 参数:Object current:当前路径 urls:数组 路径列表
wx.setNavigationBarTitle 设置页面标题 参数:Object title:页面标题
wx.showNavigationBarLoading 显示正在加载 无实参
wx.hideNavigationBarLoading 隐藏正在加载 无实参
wx.stopPullDownRefresh 停止下拉刷新 无实参
```


### 初始化

#### 配置

根目录中的.json文件为全局配置文件，定义应用的标题、背景等属性
``` bash
page 数组 所有的页面必须在此声明
window 数组 初始配置应用全局的标题、背景等属性,各页面可在后期开发中单独修改设置自己的页面属性
tabBar Object 配置tab栏的标题、路由、icon，不多于五栏
```

#### 渲染

``` bash
onLaunch 当小程序初始化完成时，会触发 onLaunch（全局只触发一次）
onShow 当小程序启动，或从后台进入前台显示，会触发 onShow
onHide 当小程序从前台进入后台，会触发 onHide
onReady 监听页面初次渲染完成
onPullDownRefresh 监听用户下拉动作
onUnload 监听页面卸载
onShareAppMessage 页面分享方法
```


### 杂项

``` bash
const app = getApp() 获取全局应用程序实例对象
各页面内适用cmd规范,require进行外部文件加载,import进行模板和样式的复用
```

### 总结

小程序的数据绑定为伪数据绑定,自动与当前页面js中的date进行绑定.各种标签和方法都为内置和自定义,0基础比较容易上手开发.
