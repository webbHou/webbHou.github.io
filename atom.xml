<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>大圣博客</title>
  <subtitle>&lt;img src=&quot;/logo.png&quot; style=&quot;width:50px;height:60px;&quot;&gt;</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://webbHou.github.io/"/>
  <updated>2017-08-31T05:50:03.050Z</updated>
  <id>http://webbHou.github.io/</id>
  
  <author>
    <name>webbHou</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>移动端返回上一页问题</title>
    <link href="http://webbHou.github.io/2017/08/31/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%BF%94%E5%9B%9E%E4%B8%8A%E4%B8%80%E9%A1%B5%E9%97%AE%E9%A2%98/"/>
    <id>http://webbHou.github.io/2017/08/31/移动端返回上一页问题/</id>
    <published>2017-08-31T05:50:03.000Z</published>
    <updated>2017-08-31T05:50:03.050Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="js常见问题" scheme="http://webbHou.github.io/categories/js%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/"/>
    
    
      <category term="javascript" scheme="http://webbHou.github.io/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>移动端返回上一页</title>
    <link href="http://webbHou.github.io/2017/08/31/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%BF%94%E5%9B%9E%E4%B8%8A%E4%B8%80%E9%A1%B5/"/>
    <id>http://webbHou.github.io/2017/08/31/移动端返回上一页/</id>
    <published>2017-08-31T05:24:19.000Z</published>
    <updated>2017-08-31T05:51:32.073Z</updated>
    
    <content type="html"><![CDATA[<h2 id="移动端返回上一页问题"><a href="#移动端返回上一页问题" class="headerlink" title="移动端返回上一页问题"></a>移动端返回上一页问题</h2><p>实际工作中往往有这样的需求,需要返回上一页。</p>
<h3 id="pc"><a href="#pc" class="headerlink" title="pc"></a>pc</h3><p>在pc上我们可以使用window.history.go(-1)或者window.history.back()都可以实现需求,而无需知道上一页的具体url。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;a href=<span class="string">"javascript:history.go(-1)"</span> class=<span class="string">"header-back jsBack"</span>&gt;返回&lt;/a&gt;</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;a href=<span class="string">"javascript:history.back()"</span> class=<span class="string">"header-back jsBack"</span>&gt;返回&lt;/a&gt;</div></pre></td></tr></table></figure>
<h3 id="移动端"><a href="#移动端" class="headerlink" title="移动端"></a>移动端</h3><p>但是在移动端，如果想要返回上一页。比如从A页面跳到B页面，如果B页面想返回A页面，为了防止不会跳错，必须要有一个 &lt;  按钮，给它加 history.go(-1) ，返回上一层。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;a href=<span class="string">"javascript:history.go(-1)"</span> class=<span class="string">"header-back jsBack"</span>&gt;返回&lt;/a&gt;</div></pre></td></tr></table></figure>
<p>但链接来源错综复杂，往往有些情况下根本没有上一页,这时候点击返回按钮根本没有用,用户体验性很差。很多时候会以为只是一个BUG。</p>
<p>移动端无论是原生app还是传统的网页，返回上页是一个比较强烈的需求。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">javascript 有一个可以获取前一页面的URL地址的方法：document.referrer</div></pre></td></tr></table></figure>
<p>允许客户端通过document.referrer访问http头部来获取当前网页的来源。</p>
<p>根据document.referrer 的来源来判断是否有来源信息，如果来源信息为空，则返回首页：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (typeof document.referrer === <span class="string">''</span>) &#123;</div><div class="line">    // 没有来源页面信息的时候，改成首页URL地址</div><div class="line">    $(<span class="string">'.jsBack'</span>).attr(<span class="string">'href'</span>, <span class="string">'/'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>以此来达到返回上一页的效果。</p>
<h3 id="无法获取referrer"><a href="#无法获取referrer" class="headerlink" title="无法获取referrer"></a>无法获取referrer</h3><p>下面的场景无法获得 referrer 信息，以下前8条属于【张鑫旭】：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">直接在浏览器中输入地址</div><div class="line">使用location.reload()刷新（location.href或者location.replace()刷新有信息）</div><div class="line">在微信对话框中，点击进入微信自身浏览器</div><div class="line">扫码进入微信或QQ的浏览器</div><div class="line">直接新窗口打开一个页面</div><div class="line">从https的网站直接进入一个http协议的网站（Chrome下亲测）</div><div class="line">a标签设置rel=<span class="string">"noreferrer"</span>（兼容IE7+）</div><div class="line">meta标签来控制不让浏览器发送referer</div><div class="line">点击 flash 内部链接</div><div class="line">Chrome4.0以下，IE 5.5+以下返回空的字符串</div><div class="line">使用 修改 Location 进行页面导航的方法，会导致在IE下丢失 referrer，这可能是IE的一个BUG</div><div class="line">跨域</div><div class="line">&lt;meta content=<span class="string">"never"</span> name=<span class="string">"referrer"</span>&gt;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;移动端返回上一页问题&quot;&gt;&lt;a href=&quot;#移动端返回上一页问题&quot; class=&quot;headerlink&quot; title=&quot;移动端返回上一页问题&quot;&gt;&lt;/a&gt;移动端返回上一页问题&lt;/h2&gt;&lt;p&gt;实际工作中往往有这样的需求,需要返回上一页。&lt;/p&gt;
&lt;h3 id=&quot;pc&quot;
    
    </summary>
    
      <category term="js常见问题" scheme="http://webbHou.github.io/categories/js%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/"/>
    
    
      <category term="-javascript -移动端" scheme="http://webbHou.github.io/tags/javascript-%E7%A7%BB%E5%8A%A8%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://webbHou.github.io/2017/08/21/hello-world/"/>
    <id>http://webbHou.github.io/2017/08/21/hello-world/</id>
    <published>2017-08-21T10:07:00.455Z</published>
    <updated>2017-08-31T03:44:09.271Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
    
    </summary>
    
      <category term="初始化" scheme="http://webbHou.github.io/categories/%E5%88%9D%E5%A7%8B%E5%8C%96/"/>
    
    
      <category term="javascript" scheme="http://webbHou.github.io/tags/javascript/"/>
    
      <category term="vue" scheme="http://webbHou.github.io/tags/vue/"/>
    
      <category term="vuex" scheme="http://webbHou.github.io/tags/vuex/"/>
    
      <category term="hexo" scheme="http://webbHou.github.io/tags/hexo/"/>
    
  </entry>
  
</feed>
