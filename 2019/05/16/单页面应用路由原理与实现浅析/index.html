<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>
        大圣博客
    </title>
    
<link rel="stylesheet" href="/libs/highlight/styles/monokai-sublime.css">

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="大圣博客" type="application/atom+xml">
</head>

<body id="bodyx">
    <div class="hd posts">
    <a href="/index.html"
        ><i class="fa fa-reply replay-btn" aria-hidden="true"></i
    ></a>
    <div class="post-title">
        <p>单页面应用路由原理与实现浅析</p>
        <hr />
    </div>
    <div class="post-category-tag">
        
        <span class="category">
            分类： 
            <a href="/categories/js%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/">js常见问题</a>
            
        </span>
         
        <span class="tag">
            标签： 
            <a href="/tags/javascript/">javascript</a>
            
        </span>
        
    </div>
    <div class="post-content">
         
         
        
        <div>&lt;p&gt;在现代前端单页面应用中，路由已经变得越来越必不可少。路由描述了url和UI之间的映射关系，这种映射是单向的，即url的变化引发UI的变化。&lt;/p&gt;
&lt;h4 id=&#34;如何实现前端路由&#34;&gt;&lt;a href=&#34;#如何实现前端路由&#34; class=&#34;headerlink&#34; title=&#34;如何实现前端路由&#34;&gt;&lt;/a&gt;如何实现前端路由&lt;/h4&gt;&lt;p&gt;  &lt;strong&gt;实现前端路由，需要解决下面两个核心问题&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;改变url如何使页面不刷新？&lt;/li&gt;
&lt;li&gt;如何检测url的变化？&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;hash模式实现&#34;&gt;&lt;a href=&#34;#hash模式实现&#34; class=&#34;headerlink&#34; title=&#34;hash模式实现&#34;&gt;&lt;/a&gt;hash模式实现&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;hash是url地址中#及后面的部分，hash值的改变不会导致页面的重载&lt;/li&gt;
&lt;li&gt;需要来监听hashchange事件来渲染不同的页面组件&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;history模式&#34;&gt;&lt;a href=&#34;#history模式&#34; class=&#34;headerlink&#34; title=&#34;history模式&#34;&gt;&lt;/a&gt;history模式&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;通过history.pushState&amp;#x2F;history.replaceState 来进行路由的修改&lt;/li&gt;
&lt;li&gt;监听popstate来进行不同组件的渲染&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;vuex工作流&#34;&gt;&lt;a href=&#34;#vuex工作流&#34; class=&#34;headerlink&#34; title=&#34;vuex工作流&#34;&gt;&lt;/a&gt;vuex工作流&lt;/h4&gt;&lt;p&gt;1.new vuex.store({&lt;br&gt;  strtic:true &amp;#x2F;&amp;#x2F;严格&lt;br&gt;  state：{ }  &amp;#x2F;&amp;#x2F;全局唯一&lt;br&gt;  mutation：{&lt;br&gt;    add(state,arg){&lt;br&gt;      state+&amp;#x3D;1;&lt;br&gt;    }&lt;br&gt;  }  &amp;#x2F;&amp;#x2F;进行state修改&lt;br&gt;  action：{ &amp;#x2F;&amp;#x2F;提交action到mutaion&lt;br&gt;    addAction({commit},arg){&lt;br&gt;      commit(mutaion名，arg)&lt;br&gt;    }&lt;br&gt;  }，&lt;br&gt;  getter：{ &amp;#x2F;&amp;#x2F;获取state&lt;br&gt;    getCount(state){&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;  }&lt;br&gt;})&lt;/p&gt;
&lt;p&gt;2.页面使用&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;提交action  this.$store.disptch(action名，arg)&lt;/li&gt;
&lt;li&gt;使用state   this.$store.state&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;vue父子通讯&#34;&gt;&lt;a href=&#34;#vue父子通讯&#34; class=&#34;headerlink&#34; title=&#34;vue父子通讯&#34;&gt;&lt;/a&gt;vue父子通讯&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;props  父-&amp;gt;子  $emit&amp;#x2F;$on&lt;/li&gt;
&lt;li&gt;新vue实例做中介  $emit&amp;#x2F;$on&lt;/li&gt;
&lt;li&gt;this.$attrs&amp;#x2F;$listeners   未继承的属性&amp;#x2F;方法&lt;/li&gt;
&lt;li&gt;vuex 全局状态共享 this.$store.state&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;vue组件&#34;&gt;&lt;a href=&#34;#vue组件&#34; class=&#34;headerlink&#34; title=&#34;vue组件&#34;&gt;&lt;/a&gt;vue组件&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;watch  自动计算  方法名对应绑定变量名&lt;/li&gt;
&lt;li&gt;comuted：  计算&lt;/li&gt;
&lt;li&gt;method： 方法   手动绑定&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;vue生命周期钩子&#34;&gt;&lt;a href=&#34;#vue生命周期钩子&#34; class=&#34;headerlink&#34; title=&#34;vue生命周期钩子&#34;&gt;&lt;/a&gt;vue生命周期钩子&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;beforeCreate  实例创建前&lt;/li&gt;
&lt;li&gt;created   已被创建&lt;/li&gt;
&lt;li&gt;beforeMount   dom挂载前&lt;/li&gt;
&lt;li&gt;mounted 已挂载  可以获取dom结点&lt;/li&gt;
&lt;li&gt;beforeUpdate  有数据更新前&lt;/li&gt;
&lt;li&gt;updated  已更新&lt;/li&gt;
&lt;li&gt;beforeDestory  摧毁前&lt;/li&gt;
&lt;li&gt;destoryed  被摧毁&lt;/li&gt;
&lt;/ul&gt;
</div>
        
    </div>

    
    <hr class="fhr" />
    <div id="vcomments"></div>
    
</div>

    <div class="footer" id="footer">
    <p>Copyright © 2020 <a class="flink" href="https://hexo.io">Hexo</a>-<a class="flink" href="https://github.com/sanjinhub/hexo-theme-geek">Geek</a>.
        <label class="el-switch el-switch-green el-switch-sm" style="vertical-align: sub;">
            <input type="checkbox" name="switch" id="update_style">
            <span class="el-switch-style"></span>
        </label>
<!--         <script type="text/javascript">
        var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");
        document.write(unescape("%3Cspan id='cnzz_stat_icon_1278548644'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "v1.cnzz.com/stat.php%3Fid%3D1278548644%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
        </script> -->
    </p>
</div>
<input type="hidden" id="web_style" value="black">
<input type="hidden" id="valine_appid" value="4QJZu2oB7BcbrCJACqhWnmt2-gzGzoHsz">
<input type="hidden" id="valine_appKey" value="QAjplUsOViSYZJg9F7UAozl8">

<script src="/libs/jquery.min.js"></script>


<script src="/libs/highlight/highlight.pack.js"></script>

<script src='//cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js'></script>

<script src="/js/js.js"></script>

<style type="text/css">
.v * {
    color: #698fca;
}

.v .vlist .vcard .vhead .vsys {
    color: #3a3e4a;
}

.v .vlist .vcard .vh .vmeta .vat {
    color: #638fd5;
}

.v .vlist .vcard .vhead .vnick {
    color: #6ba1ff;
}

.v a {
    color: #8696b1;
}

.v .vlist .vcard .vhead .vnick:hover {
    color: #669bfc;
}
</style>
</body>

</html>